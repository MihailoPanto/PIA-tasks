{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { User } from '../models/user';\nexport let WorkerComponent = class WorkerComponent {\n  constructor(itemService, orderService, router) {\n    this.itemService = itemService;\n    this.orderService = orderService;\n    this.router = router;\n    this.items = [];\n    this.user = new User();\n    this.searchParam = \"\";\n    this.orders = [];\n  }\n  ngOnInit() {\n    this.getItems();\n    this.getOrders();\n    let x = localStorage.getItem(\"user\");\n    if (x) {\n      this.user = JSON.parse(x);\n    }\n  }\n  getItems() {\n    this.itemService.getItems().subscribe(data => {\n      if (data) {\n        this.items = data;\n      }\n    });\n  }\n  logout() {\n    this.router.navigate([\"\"]);\n  }\n  search() {\n    this.items = this.items.filter(item => item.name.toLowerCase().includes(this.searchParam.toLowerCase()));\n  }\n  getOrders() {\n    this.orderService.getOrders().subscribe(data => {\n      if (data) {\n        this.orders = data;\n      }\n    });\n  }\n  approve(o) {\n    this.itemService.update(o).subscribe(data => {\n      if (data == 1) {\n        this.orderService.delete(o).subscribe(data => {\n          this.getOrders();\n          alert(\"Uspesno\");\n        });\n      }\n    });\n  }\n};\nWorkerComponent = __decorate([Component({\n  selector: 'app-worker',\n  templateUrl: './worker.component.html',\n  styleUrls: ['./worker.component.css']\n})], WorkerComponent);","map":{"version":3,"names":["Component","User","WorkerComponent","constructor","itemService","orderService","router","items","user","searchParam","orders","ngOnInit","getItems","getOrders","x","localStorage","getItem","JSON","parse","subscribe","data","logout","navigate","search","filter","item","name","toLowerCase","includes","approve","o","update","delete","alert","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Korisnik\\Desktop\\github\\PIA-tasks\\K1-2020-1\\frontend\\src\\app\\worker\\worker.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ItemService } from '../services/item.service';\nimport { OrderService } from '../services/order.service';\nimport { Router } from '@angular/router';\nimport { Item } from '../models/item';\nimport { User } from '../models/user';\nimport { Order } from '../models/order';\n\n@Component({\n  selector: 'app-worker',\n  templateUrl: './worker.component.html',\n  styleUrls: ['./worker.component.css']\n})\nexport class WorkerComponent implements OnInit{\n  constructor(private itemService:ItemService,private orderService:OrderService,private router:Router){}\n  ngOnInit(): void {\n    this.getItems()\n    this.getOrders()\n    let x = localStorage.getItem(\"user\")\n    if(x){\n      this.user=JSON.parse(x)\n    }\n  }\n\n  items: Item[] = []\n  user:User=new User()\n  searchParam:string=\"\"\n  orders:Order[]=[]\n\n  getItems(){\n    this.itemService.getItems().subscribe(\n      data=>{\n        if(data){\n          this.items=data;\n        }\n      }\n    )\n  }\n\n  logout(){\n    this.router.navigate([\"\"])\n  }\n\n  search(){\n    this.items = this.items.filter(item=> item.name.toLowerCase().includes(this.searchParam.toLowerCase()))\n  }\n\n  getOrders(){\n    this.orderService.getOrders().subscribe(\n      data=>{\n        if(data){\n          this.orders=data\n        }\n      }\n    )\n  }\n\n  approve(o:Order){\n    this.itemService.update(o).subscribe(\n      data=>{\n        if(data==1){\n          this.orderService.delete(o).subscribe(\n            data=>{\n              this.getOrders()\n              alert(\"Uspesno\")\n            }\n          )\n        }\n      }\n    )\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAKjD,SAASC,IAAI,QAAQ,gBAAgB;AAQ9B,WAAMC,eAAe,GAArB,MAAMA,eAAe;EAC1BC,YAAoBC,WAAuB,EAASC,YAAyB,EAASC,MAAa;IAA/E,KAAAF,WAAW,GAAXA,WAAW;IAAqB,KAAAC,YAAY,GAAZA,YAAY;IAAsB,KAAAC,MAAM,GAANA,MAAM;IAU5F,KAAAC,KAAK,GAAW,EAAE;IAClB,KAAAC,IAAI,GAAM,IAAIP,IAAI,EAAE;IACpB,KAAAQ,WAAW,GAAQ,EAAE;IACrB,KAAAC,MAAM,GAAS,EAAE;EAboF;EACrGC,QAAQA,CAAA;IACN,IAAI,CAACC,QAAQ,EAAE;IACf,IAAI,CAACC,SAAS,EAAE;IAChB,IAAIC,CAAC,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACpC,IAAGF,CAAC,EAAC;MACH,IAAI,CAACN,IAAI,GAACS,IAAI,CAACC,KAAK,CAACJ,CAAC,CAAC;;EAE3B;EAOAF,QAAQA,CAAA;IACN,IAAI,CAACR,WAAW,CAACQ,QAAQ,EAAE,CAACO,SAAS,CACnCC,IAAI,IAAE;MACJ,IAAGA,IAAI,EAAC;QACN,IAAI,CAACb,KAAK,GAACa,IAAI;;IAEnB,CAAC,CACF;EACH;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAACf,MAAM,CAACgB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC;EAC5B;EAEAC,MAAMA,CAAA;IACJ,IAAI,CAAChB,KAAK,GAAG,IAAI,CAACA,KAAK,CAACiB,MAAM,CAACC,IAAI,IAAGA,IAAI,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAAC,IAAI,CAACnB,WAAW,CAACkB,WAAW,EAAE,CAAC,CAAC;EACzG;EAEAd,SAASA,CAAA;IACP,IAAI,CAACR,YAAY,CAACQ,SAAS,EAAE,CAACM,SAAS,CACrCC,IAAI,IAAE;MACJ,IAAGA,IAAI,EAAC;QACN,IAAI,CAACV,MAAM,GAACU,IAAI;;IAEpB,CAAC,CACF;EACH;EAEAS,OAAOA,CAACC,CAAO;IACb,IAAI,CAAC1B,WAAW,CAAC2B,MAAM,CAACD,CAAC,CAAC,CAACX,SAAS,CAClCC,IAAI,IAAE;MACJ,IAAGA,IAAI,IAAE,CAAC,EAAC;QACT,IAAI,CAACf,YAAY,CAAC2B,MAAM,CAACF,CAAC,CAAC,CAACX,SAAS,CACnCC,IAAI,IAAE;UACJ,IAAI,CAACP,SAAS,EAAE;UAChBoB,KAAK,CAAC,SAAS,CAAC;QAClB,CAAC,CACF;;IAEL,CAAC,CACF;EACH;CACD;AA1DY/B,eAAe,GAAAgC,UAAA,EAL3BlC,SAAS,CAAC;EACTmC,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWnC,eAAe,CA0D3B"},"metadata":{},"sourceType":"module","externalDependencies":[]}